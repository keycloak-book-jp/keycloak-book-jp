<!DOCTYPE HTML>
<html>

<head>
    <title>Sample Application - callback endpoint</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

</head>

<body>
    <div class="container">
        <a th:href="@{/}">back</a>

        <hr />
        <div class="container" th:if="${error != null}">
            <div class="alert alert-danger" role="alert">
                <span class="alert-heading" th:text="${error}"></span>
                <p th:text="${errorDescription}"></p>
            </div>
        </div>
        <div class="container" th:if="${error == null}">
            <p class="h3">Tokens</p>
            <div class="container">
                <p class="h4">AccessToken</p>
                <pre class="text-break text-wrap" th:text="${@clientSession?.getAccessToken()?.tokenString}">
                </pre>
            </div>
            <div class="container">
                <p class="h4">RefreshToken</p>
                <pre class="text-break text-wrap" th:text="${@clientSession?.getRefreshToken()?.tokenString}"></pre>
            </div>
            <div class="container" th:if="${@clientSession?.getIdToken() != null}">
                <p class="h4">IDToken</p>
                <pre class="text-break text-wrap" th:text="${@clientSession?.getIdToken()?.tokenString}"></pre>
            </div>
        </div>
        <div class="container" th:if="${error == null}">

            <p class="h3">Decoded Tokens</p>
            <div class="container">
                <p class="h4">Access Token</p>
                <pre class="border" th:text="${@clientSession?.getAccessToken()?.getPayloadJSON()}"></pre>
            </div>
            <div class="container">
                <p class="h4">Refresh Token</p>
                <pre class="border" th:text="${@clientSession?.getRefreshToken()?.getPayloadJSON()}"></pre>
            </div>
            <div class="container" th:if="${@clientSession?.getIdToken() != null}">
                <p class="h4">IDToken</p>
                <pre class="border" th:text="${@clientSession?.getIdToken()?.getPayloadJSON()}"></pre>
            </div>
        </div>

    </div>
</body>

</html>